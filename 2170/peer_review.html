<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>INF2170 A1 Peer Review Form</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    :root { --bg:#0b0c10; --card:#15171c; --ink:#eaeaea; --muted:#b7bcc6; --accent:#78d0b6; }
    * { box-sizing: border-box; }
    body { margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; background:var(--bg); color:var(--ink); }
    .wrap { max-width: 980px; margin: 24px auto; padding: 0 16px; }
    .card { background: var(--card); border-radius: 16px; padding: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.25); margin-bottom: 16px; }
    h1, h2, h3 { margin: 0 0 10px; }
    label { display:block; font-weight:600; margin-bottom:6px; color: var(--muted); }
    input[type="text"], input[type="date"], input[type="time"], textarea {
      width:100%; padding:10px 12px; border-radius:10px; border:1px solid #2a2f3a; background:#0f1116; color:var(--ink);
    }
    textarea { min-height: 90px; }
    .flex { display:flex; gap:12px; align-items:center; flex-wrap:wrap; }
    .btn { appearance:none; border:none; border-radius:12px; padding:12px 16px; cursor:pointer; font-weight:700; }
    .btn-primary { background: var(--accent); color:#0b0c10; }
    .btn-ghost { background: transparent; color: var(--ink); border:1px solid #2a2f3a; }
    .out { white-space: pre-wrap; background:#0f1116; border:1px dashed #2a2f3a; border-radius: 12px; padding: 12px; }
    .muted { color: var(--muted); }
    .warn { color: #f5a97f; font-weight:600; }
    strong { color: #ff66cc; }
  </style>
</head>
<body>
<div class="wrap">
  <div class="card">
    <h1>INF2170 A1 Peer Review Form</h1>
    <p class="muted">
      Use this form to provide constructive, good faith feedback on your peer’s content audit and recommendations report.
      Focus on understanding their intentions, assessing clarity, and suggesting actionable next steps.
    </p>
    <p class="muted"><strong>Privacy note:</strong> This is a static webpage. Nothing you type is uploaded or sent anywhere. On the flip side, nothing is saved so you may want to print and copy often. The form will not throw an error if parts are missing.</p>
  </div>

  <div class="card">
    <h2>Reviewer Information</h2>
    <div class="flex">
      <div style="flex:1">
        <label>Researcher (whose work you are reviewing)</label>
        <input type="text" id="reviewee" placeholder="Name of peer being reviewed">
      </div>
      <div style="flex:1">
        <label>Reviewer</label>
        <input type="text" id="reviewer" placeholder="Your name">
      </div>
    </div>
  </div>

  <div class="card">
    <h2>1. Summary of the Work</h2>
    <p class="muted">Briefly describe what you understand to be your peer’s goals, argument, or design strategy. What was the focus of their audit and recommendations?</p>
    <textarea id="summary"></textarea>
  </div>

  <div class="card">
    <h2>2. First Impressions</h2>
    <p class="muted">Describe your immediate reactions. How did the structure, clarity, or visual presentation of their cleaned data, audit, and report feel as a reader or collaborator?</p>
    <textarea id="impression"></textarea>
  </div>

  <div class="card">
    <h2>3. Strengths and Weaknesses</h2>
    <p class="muted">Identify at least two specific strengths and two specific weaknesses in the audit or recommendations report. Focus on reasoning, clarity, use of evidence, or IA insight.</p>
    <label>Strengths</label>
    <textarea id="strengths" placeholder="What worked well? What impressed you? (Aim for at least two)"></textarea>
    <label>Weaknesses</label>
    <textarea id="weaknesses" placeholder="What could be improved or clarified? (Aim for at least two)"></textarea>
  </div>

  <div class="card">
    <h2>4. Questions for the Author</h2>
    <p class="muted">Ask two questions that emerged for you as you read. These should highlight ambiguity or curiosity about reasoning (avoid unanswerable questions like “what was the original site designer thinking?”).</p>
    <div class="flex">
      <div style="flex:1">
        <label>Question 1</label>
        <textarea id="question1" placeholder="Your first question"></textarea>
      </div>
      <div style="flex:1">
        <label>Question 2</label>
        <textarea id="question2" placeholder="Your second question"></textarea>
      </div>
    </div>
  </div>

  <div class="card">
    <h2>5. Ideas for Moving Forward</h2>
    <p class="muted">Offer 1–3 ideas for how your peer might improve and advance this work in A1.5 (e.g., deeper competitor analysis, new data viz, user feedback integration, prototype wireframes, restructured argumentation).</p>
    <textarea id="forward"></textarea>
  </div>

  <div class="card">
    <h2>Propose Follow-up (TO BE CONFIRMED WITH PARTNER)</h2>
    <p class="muted">Pick a time to meet and discuss progress. Meetings must be no later than <strong>October 20, 2025</strong>.</p>
    <div class="flex">
      <div style="flex:1">
        <label>Follow-up Date</label>
        <input type="date" id="meet_date" max="2025-10-20">
      </div>
      <div style="flex:1">
        <label>Time</label>
        <input type="time" id="meet_time">
      </div>
    </div>
    <p id="date_warn" class="warn" style="display:none;">Date must be on or before October 20, 2025.</p>
  </div>

  <div class="card">
    <div class="flex" style="justify-content:flex-end;">
      <button class="btn btn-primary" onclick="generate()">Print Peer Review Summary</button>
    </div>
  </div>

  <div class="card">
    <h2>Peer Review Summary Report</h2>
    <div class="out" id="out"></div>
    <div class="flex" style="margin-top:10px; justify-content:flex-end;">
      <button class="btn btn-ghost" onclick="copyOut()">Copy to Clipboard</button>
    </div>
  </div>
</div>

<script>
(function initLimits(){
  // Optional: set min date to today for convenience (does not override max).
  const today = new Date();
  const pad = n => String(n).padStart(2, "0");
  const isoToday = `${today.getFullYear()}-${pad(today.getMonth()+1)}-${pad(today.getDate())}`;
  const dateEl = document.getElementById("meet_date");
  if (dateEl) dateEl.min = isoToday;
})();

function generate(){
  const reviewee = (document.getElementById("reviewee").value || "").trim();
  const reviewer = (document.getElementById("reviewer").value || "").trim();
  const summary  = (document.getElementById("summary").value || "").trim();
  const impression = (document.getElementById("impression").value || "").trim();
  const strengths  = (document.getElementById("strengths").value || "").trim();
  const weaknesses = (document.getElementById("weaknesses").value || "").trim();
  const question1  = (document.getElementById("question1").value || "").trim();
  const question2  = (document.getElementById("question2").value || "").trim();
  const forward    = (document.getElementById("forward").value || "").trim();

  // Follow-up date/time with hard cap
  const dateEl = document.getElementById("meet_date");
  const timeEl = document.getElementById("meet_time");
  const warnEl = document.getElementById("date_warn");

  const pickedDate = (dateEl && dateEl.value) ? dateEl.value : "";
  const pickedTime = (timeEl && timeEl.value) ? timeEl.value : "";
  const MAX_DATE = "2025-10-20";

  let followupOk = true;
  if (pickedDate && pickedDate > MAX_DATE) {
    followupOk = false;
    if (warnEl) warnEl.style.display = "block";
  } else {
    if (warnEl) warnEl.style.display = "none";
  }

  const lines = [];
  lines.push("INF2170 A1 Peer Review Summary");
  if (reviewee) lines.push("Researcher: " + reviewee);
  if (reviewer) lines.push("Reviewer: " + reviewer);
  lines.push("");

  if (summary) {
    lines.push("1. Summary of the Work");
    lines.push(summary, "");
  }

  if (impression) {
    lines.push("2. First Impressions");
    lines.push(impression, "");
  }

  if (strengths || weaknesses) {
    lines.push("3. Strengths and Weaknesses");
    if (strengths) lines.push("Strengths:\n" + strengths);
    if (weaknesses) lines.push("\nWeaknesses:\n" + weaknesses);
    lines.push("");
  }

  if (question1 || question2) {
    lines.push("4. Questions for the Researcher");
    if (question1) lines.push("• " + question1);
    if (question2) lines.push("• " + question2);
    lines.push("");
  }

  if (forward) {
    lines.push("5. Ideas for Moving Forward");
    lines.push(forward, "");
  }

  if (pickedDate && followupOk) {
    const t = pickedTime ? ` at ${pickedTime}` : "";
    lines.push("Follow-up Meeting");
    lines.push(`Scheduled for ${pickedDate}${t} (no later than Oct 20, 2025).`, "");
  } else if (pickedDate && !followupOk) {
    lines.push("Follow-up Meeting");
    lines.push("⚠ Selected date exceeds Oct 20, 2025. Please choose an earlier date.", "");
  }

  const out = document.getElementById("out");
  out.innerText = lines.join("\n");
}

function copyOut(){
  const txt = document.getElementById("out").innerText;
  navigator.clipboard.writeText(txt).then(()=> alert("Peer review copied!"));
}
</script>
</body>
</html>
